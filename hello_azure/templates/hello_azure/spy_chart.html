<!DOCTYPE html>
<html>
<head>
    <title>SPY Chart</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <div id="chart" style="width: 100%; height: 100%;"></div>
    <script>
        var chart = LightweightCharts.createChart(document.getElementById('chart'), { width: 1000, height: 500 });
        var lineSeries = chart.addLineSeries();
        var sma10Series = chart.addLineSeries({ color: 'blue' });
        var sma50Series = chart.addLineSeries({ color: 'red' });

        lineSeries.setData( chart_data|safe );
        sma10Series.setData( chart_data|safe );
        sma50Series.setData( chart_data|safe );
    </script>

    <h1>SPY Chart</h1>

    <!-- Include the second chart -->
    <div class="chart-container">
        {{ chart2|safe }}
    </div>
    <div>{{ df_html|safe }}</div>
    <div>{{ chart1|safe }}</div>
    <!-- Include the first chart -->

</body>
</html>